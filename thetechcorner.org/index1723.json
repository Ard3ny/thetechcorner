{"id":917,"date":"2022-01-26T17:00:00","date_gmt":"2022-01-26T17:00:00","guid":{"rendered":"https:\/\/thetechcorner.org\/?p=917"},"modified":"2022-01-24T15:45:51","modified_gmt":"2022-01-24T15:45:51","slug":"locate-and-interpret-system-log-files-and-journals","status":"publish","type":"post","link":"https:\/\/thetechcorner.org\/?p=917","title":{"rendered":"Locate and interpret system log files and journals"},"content":{"rendered":"\n<h2>Log files<\/h2>\n\n\n\n<p>To do this efficiently, Red Hat has added a feature called &#8220;rsyslog&#8221; many versions ago.<\/p>\n\n\n\n<p>According to man pages (which would always be the first thing you check with any commands)<\/p>\n\n\n\n<div class=\"wp-block-image is-style-default\"><figure class=\"aligncenter size-full\"><img decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"268\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-181.png?resize=640%2C268&#038;ssl=1\" alt=\"\" class=\"wp-image-921\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-181.png?w=658&amp;ssl=1 658w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-181.png?resize=300%2C126&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-181.png?resize=24%2C10&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-181.png?resize=36%2C15&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-181.png?resize=48%2C20&amp;ssl=1 48w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" \/><\/figure><\/div>\n\n\n\n<p><\/p>\n\n\n\n<p>It&#8217;s located in \/etc directory and to configure it we simply open the text file<\/p>\n\n\n\n<div class=\"is-layout-flow wp-block-group\"><div class=\"wp-block-group__inner-container\">\n<pre class=\"wp-block-preformatted\">vim \/etc\/rsyslog.conf<\/pre>\n<\/div><\/div>\n\n\n\n<p>There are many things you can change and configure, but this is not necessary for this exam so we just skip that<\/p>\n\n\n\n<div class=\"wp-block-image is-style-default\"><figure class=\"aligncenter size-full\"><img decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"442\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-182.png?resize=640%2C442&#038;ssl=1\" alt=\"\" class=\"wp-image-922\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-182.png?w=708&amp;ssl=1 708w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-182.png?resize=300%2C207&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-182.png?resize=24%2C17&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-182.png?resize=36%2C25&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-182.png?resize=48%2C33&amp;ssl=1 48w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" \/><\/figure><\/div>\n\n\n\n<p><\/p>\n\n\n\n<p>As you can read in the .conf file, it&#8217;s divided into many log files, which are all located in the \/var\/log directory.<\/p>\n\n\n\n<p>You can read about all of them <a href=\"https:\/\/www.thegeekstuff.com\/2011\/08\/linux-var-log-files\/\">here<\/a>, I&#8217;ll just point out a few examples:<\/p>\n\n\n\n<p><\/p>\n\n\n\n<p><strong>var\/log\/messages<\/strong>\u00a0\u2013 Contains global system messages, including the messages that are logged during system startup. There are several things that are logged in \/var\/log\/messages including mail, cron, daemon, kern, auth, etc.<\/p>\n\n\n\n<p><strong>\/var\/log\/cron<\/strong>\u00a0\u2013 Whenever\u00a0<a href=\"https:\/\/www.thegeekstuff.com\/2009\/06\/15-practical-crontab-examples\/\">cron daemon<\/a>\u00a0(or\u00a0<a href=\"https:\/\/www.thegeekstuff.com\/2011\/05\/anacron-examples\/\">anacron<\/a>) starts a cron job, it logs the information about the cron job in this file<\/p>\n\n\n\n<p><strong>\/var\/log\/secure<\/strong>\u00a0\u2013 Contains information related to authentication and authorization privileges. For example, sshd logs all the messages here, including unsuccessful login.<\/p>\n\n\n\n<p><strong>\/var\/log\/audit\/<\/strong>\u00a0\u2013 Contains logs information stored by the Linux audit daemon (auditd).<\/p>\n\n\n\n<p><\/p>\n\n\n\n<p>To view logs, administrators often use this command<\/p>\n\n\n\n<div class=\"is-layout-flow wp-block-group\"><div class=\"wp-block-group__inner-container\">\n<pre class=\"wp-block-preformatted\">tail -f \/var\/log\/secure<\/pre>\n<\/div><\/div>\n\n\n\n<p>With the -f flag (for  follow) we can see new lines being added to the log as we have it opened. This is useful when troubleshooting something, and you can watch the live message output on your screen without refreshing it.<\/p>\n\n\n\n<p><\/p>\n\n\n\n<h2>Journals<\/h2>\n\n\n\n<p>The\u00a0<em>journal<\/em>\u00a0is a component of systemd. It\u2019s a centralized location for all messages logged by different components in a systemd-enabled Linux system. This includes kernel and boot messages, messages coming from syslog, or different services.<\/p>\n\n\n\n<p>In traditional Linux, during the boot-up phase, different subsystems of the OS, or application daemons, would log all their message in different text files throughout the system. Each subsystem would log its messages with varying level of details. When troubleshooting, an administrator would often have to go through messages from multiple files within different time frames and correlate the entries. Journaling takes away this difficulty by recording both OS and application level messages in one place.<\/p>\n\n\n\n<p>The journal is controlled by the\u00a0<em>systemd-journald\u00a0<\/em>daemon. It collects information from different sources and loads the messages into the journal.<\/p>\n\n\n\n<p>To check if we can type<\/p>\n\n\n\n<figure class=\"wp-block-image size-full is-style-default\"><img decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"159\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-183.png?resize=640%2C159&#038;ssl=1\" alt=\"\" class=\"wp-image-923\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-183.png?w=959&amp;ssl=1 959w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-183.png?resize=300%2C75&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-183.png?resize=768%2C191&amp;ssl=1 768w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-183.png?resize=24%2C6&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-183.png?resize=36%2C9&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-183.png?resize=48%2C12&amp;ssl=1 48w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" \/><\/figure>\n\n\n\n<p><\/p>\n\n\n\n<p>We can view this journal by simply using journal command with sudo privileges or root user<\/p>\n\n\n\n<div class=\"is-layout-flow wp-block-group\"><div class=\"wp-block-group__inner-container\">\n<pre class=\"wp-block-preformatted\">journalctl <\/pre>\n<\/div><\/div>\n\n\n\n<figure class=\"wp-block-image size-full is-style-default\"><img decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"575\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-184.png?resize=640%2C575&#038;ssl=1\" alt=\"\" class=\"wp-image-924\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-184.png?w=930&amp;ssl=1 930w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-184.png?resize=300%2C269&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-184.png?resize=768%2C690&amp;ssl=1 768w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-184.png?resize=24%2C22&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-184.png?resize=36%2C32&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-184.png?resize=48%2C43&amp;ssl=1 48w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" \/><\/figure>\n\n\n\n<p><\/p>\n\n\n\n<p>As you can see there are many many messages. To filter it out we can use few things. We can use time since when we want to view logs<\/p>\n\n\n\n<div class=\"is-layout-flow wp-block-group\"><div class=\"wp-block-group__inner-container\">\n<pre class=\"wp-block-preformatted\">journalctl --since 10:00<\/pre>\n<\/div><\/div>\n\n\n\n<figure class=\"wp-block-image size-full is-style-default\"><img decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"54\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-185.png?resize=640%2C54&#038;ssl=1\" alt=\"\" class=\"wp-image-925\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-185.png?w=771&amp;ssl=1 771w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-185.png?resize=300%2C25&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-185.png?resize=768%2C65&amp;ssl=1 768w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-185.png?resize=24%2C2&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-185.png?resize=36%2C3&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-185.png?resize=48%2C4&amp;ssl=1 48w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" \/><\/figure>\n\n\n\n<p>or we can just specific messages from certain service<\/p>\n\n\n\n<div class=\"is-layout-flow wp-block-group\"><div class=\"wp-block-group__inner-container\">\n<pre class=\"wp-block-preformatted\"> journalctl --unit httpd<\/pre>\n\n\n\n<figure class=\"wp-block-image size-full is-style-default\"><img decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"183\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-186.png?resize=640%2C183&#038;ssl=1\" alt=\"\" class=\"wp-image-926\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-186.png?w=951&amp;ssl=1 951w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-186.png?resize=300%2C86&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-186.png?resize=768%2C220&amp;ssl=1 768w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-186.png?resize=24%2C7&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-186.png?resize=36%2C10&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-186.png?resize=48%2C14&amp;ssl=1 48w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" \/><\/figure>\n<\/div><\/div>\n\n\n\n<p>or by priority<\/p>\n\n\n\n<div class=\"is-layout-flow wp-block-group\"><div class=\"wp-block-group__inner-container\">\n<pre class=\"wp-block-preformatted\">journalctl --priority err<\/pre>\n\n\n\n<figure class=\"wp-block-image size-full is-style-default\"><img decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"173\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-187.png?resize=640%2C173&#038;ssl=1\" alt=\"\" class=\"wp-image-927\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-187.png?w=960&amp;ssl=1 960w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-187.png?resize=300%2C81&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-187.png?resize=768%2C208&amp;ssl=1 768w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-187.png?resize=24%2C7&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-187.png?resize=36%2C10&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-187.png?resize=48%2C13&amp;ssl=1 48w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" \/><\/figure>\n\n\n\n<p><\/p>\n\n\n\n<p>There is so much more options and function for what you can use this command, but all of it&#8217;s in man pages where you can find it even on them RHCSA exam. <\/p>\n\n\n\n<blockquote class=\"wp-block-quote\"><p>NOTE: All the journal messages are deleted with reboot. I&#8217;ll show you how to change it in next tutorial.<\/p><\/blockquote>\n<\/div><\/div>\n","protected":false},"excerpt":{"rendered":"<p>Log files To do this efficiently, Red Hat has added a feature called &#8220;rsyslog&#8221; many [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":840,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"nf_dc_page":"","om_disable_all_campaigns":false,"_mi_skip_tracking":false},"categories":[219],"tags":[350,349,278,348,220,316],"jetpack_featured_media_url":"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/rhsa-operate-running-systems.png?fit=1280%2C720&ssl=1","_links":{"self":[{"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/posts\/917"}],"collection":[{"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=%2Fwp%2Fv2%2Fcomments&post=917"}],"version-history":[{"count":1,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/posts\/917\/revisions"}],"predecessor-version":[{"id":928,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/posts\/917\/revisions\/928"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/media\/840"}],"wp:attachment":[{"href":"https:\/\/thetechcorner.org\/index.php?rest_route=%2Fwp%2Fv2%2Fmedia&parent=917"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=%2Fwp%2Fv2%2Fcategories&post=917"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=%2Fwp%2Fv2%2Ftags&post=917"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}