{"id":1412,"date":"2022-03-17T16:54:00","date_gmt":"2022-03-17T16:54:00","guid":{"rendered":"https:\/\/thetechcorner.org\/?p=1412"},"modified":"2022-03-16T11:50:18","modified_gmt":"2022-03-16T11:50:18","slug":"run-a-service-inside-a-container","status":"publish","type":"post","link":"https:\/\/thetechcorner.org\/?p=1412","title":{"rendered":"Run a service inside a container"},"content":{"rendered":"\n<p>Running a service inside a container is the whole purpose of building and managing the container. Few reasons why running a service like this is beneficial <\/p>\n\n\n\n<ul><li><strong>Less overhead<\/strong><br>Containers require less system resources than traditional or hardware virtual machine environments because they don\u2019t include operating system images.<\/li><li><strong>Increased portability<\/strong><br>Applications running in containers can be deployed easily to multiple different operating systems and hardware platforms.<\/li><li><strong>More consistent operation<\/strong><br>DevOps teams know applications in containers will run the same, regardless of where they are deployed.<\/li><li><strong>Greater efficiency<\/strong><br>Containers allow applications to be more rapidly deployed, patched, or scaled.<\/li><li><strong>Better application development<\/strong><br>Containers support agile and DevOps efforts to accelerate development, test, and production cycles.<\/li><\/ul>\n\n\n\n<p><\/p>\n\n\n\n<p>Let&#8217;s pick up where last post end up and demonstrate this by running a site with apache server. After we&#8217;ve successfully downloaded the apache image container by typing command bellow, it&#8217;s time to start up the container.<\/p>\n\n\n\n<div class=\"is-layout-flow wp-block-group\"><div class=\"wp-block-group__inner-container\">\n<pre class=\"wp-block-preformatted\">podman pull registry.access.redhat.com\/rhscl\/httpd-24-rhel7<\/pre>\n<\/div><\/div>\n\n\n\n<p><\/p>\n\n\n\n<p>We&#8217;ve already started a container in a previous post, but we need to adjust command a little.<\/p>\n\n\n\n<div class=\"is-layout-flow wp-block-group\"><div class=\"wp-block-group__inner-container\">\n<pre class=\"wp-block-preformatted\">podman run --name httpd_server -dit -p 7000:8080 registry.access.redhat.com\/rhscl\/httpd-24-rhel<\/pre>\n<\/div><\/div>\n\n\n\n<div class=\"wp-block-image is-style-default\"><figure class=\"aligncenter size-large\"><img decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"71\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-41.png?resize=640%2C71&#038;ssl=1\" alt=\"\" class=\"wp-image-1431\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-41.png?resize=1024%2C113&amp;ssl=1 1024w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-41.png?resize=300%2C33&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-41.png?resize=768%2C85&amp;ssl=1 768w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-41.png?resize=24%2C3&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-41.png?resize=36%2C4&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-41.png?resize=48%2C5&amp;ssl=1 48w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-41.png?w=1248&amp;ssl=1 1248w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" \/><\/figure><\/div>\n\n\n\n<p>What we&#8217;ve done is that we added a flag -dit and -p for:<\/p>\n\n\n\n<p><strong>-d<\/strong>: Because the container is being run in detached mode, represented by the\u00a0<code>-d<\/code>\u00a0in the\u00a0<code>podman run<\/code>\u00a0command, Podman will print the container ID after it has executed the command. <\/p>\n\n\n\n<p><code>-<strong>t<\/strong><\/code>\u00a0also adds a pseudo-tty to run arbitrary commands in an interactive shell.<\/p>\n\n\n\n<p>&#8211;<strong>i<\/strong> which is short for <strong>interactive<\/strong>. When set to\u00a0<strong>true<\/strong>, keep stdin open even if not attached. The default is\u00a0<strong>false<\/strong>.<\/p>\n\n\n\n<p>&#8211;<strong>p <\/strong>or <strong>&#8211;publish<\/strong> which helps us define container\u2019s port, or range of ports, to the host<\/p>\n\n\n\n<p><\/p>\n\n\n\n<h3><strong>Test the httpd container<\/strong><\/h3>\n\n\n\n<p><strong>We can test the httpd from our local host by console<\/strong><\/p>\n\n\n\n<pre class=\"wp-block-code\"><code>curl http:\/\/localhost:7000\n<\/code><\/pre>\n\n\n\n<figure class=\"wp-block-image size-full is-style-default\"><img decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"179\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-42.png?resize=640%2C179&#038;ssl=1\" alt=\"\" class=\"wp-image-1433\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-42.png?w=914&amp;ssl=1 914w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-42.png?resize=300%2C84&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-42.png?resize=768%2C215&amp;ssl=1 768w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-42.png?resize=24%2C7&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-42.png?resize=36%2C10&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-42.png?resize=48%2C13&amp;ssl=1 48w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" \/><\/figure>\n\n\n\n<p><\/p>\n\n\n\n<p><strong>Or by web browser<\/strong><\/p>\n\n\n\n<div class=\"wp-block-image is-style-default\"><figure class=\"aligncenter size-large\"><img decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"344\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-43.png?resize=640%2C344&#038;ssl=1\" alt=\"\" class=\"wp-image-1434\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-43.png?resize=1024%2C551&amp;ssl=1 1024w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-43.png?resize=300%2C162&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-43.png?resize=768%2C413&amp;ssl=1 768w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-43.png?resize=24%2C13&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-43.png?resize=36%2C19&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-43.png?resize=48%2C26&amp;ssl=1 48w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-43.png?w=1265&amp;ssl=1 1265w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" \/><\/figure><\/div>\n\n\n\n<p><\/p>\n\n\n\n<p><strong>or by using IP address<\/strong><\/p>\n\n\n\n<div class=\"wp-block-image is-style-default\"><figure class=\"aligncenter size-full\"><img decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"350\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-45.png?resize=640%2C350&#038;ssl=1\" alt=\"\" class=\"wp-image-1437\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-45.png?w=946&amp;ssl=1 946w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-45.png?resize=300%2C164&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-45.png?resize=768%2C420&amp;ssl=1 768w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-45.png?resize=24%2C13&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-45.png?resize=36%2C20&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-45.png?resize=48%2C26&amp;ssl=1 48w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" \/><\/figure><\/div>\n\n\n\n<p><\/p>\n\n\n\n<div class=\"wp-block-image is-style-default\"><figure class=\"aligncenter size-full\"><img decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"230\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-46.png?resize=640%2C230&#038;ssl=1\" alt=\"\" class=\"wp-image-1438\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-46.png?w=970&amp;ssl=1 970w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-46.png?resize=300%2C108&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-46.png?resize=768%2C276&amp;ssl=1 768w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-46.png?resize=24%2C9&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-46.png?resize=36%2C13&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-46.png?resize=48%2C17&amp;ssl=1 48w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" \/><\/figure><\/div>\n\n\n\n<p><\/p>\n\n\n\n<h3>Inspect a running container<\/h3>\n\n\n\n<p>You can \u201cinspect\u201d a running container for metadata and details about itself<\/p>\n\n\n\n<p>To inspect the latest container add the flag -l to the command<\/p>\n\n\n\n<div class=\"is-layout-flow wp-block-group\"><div class=\"wp-block-group__inner-container\">\n<pre class=\"wp-block-preformatted\">podman inspect -l <\/pre>\n<\/div><\/div>\n\n\n\n<p>To view a logs type<\/p>\n\n\n\n<div class=\"is-layout-flow wp-block-group\"><div class=\"wp-block-group__inner-container\">\n<pre class=\"wp-block-preformatted\">podman logs -l<\/pre>\n<\/div><\/div>\n\n\n\n<figure class=\"wp-block-image size-large is-style-default\"><img decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"274\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-49.png?resize=640%2C274&#038;ssl=1\" alt=\"\" class=\"wp-image-1441\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-49.png?resize=1024%2C439&amp;ssl=1 1024w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-49.png?resize=300%2C129&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-49.png?resize=768%2C329&amp;ssl=1 768w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-49.png?resize=24%2C10&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-49.png?resize=36%2C15&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-49.png?resize=48%2C21&amp;ssl=1 48w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/image-49.png?w=1214&amp;ssl=1 1214w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" \/><\/figure>\n\n\n\n<p><\/p>\n\n\n\n<p>There are many more possibilities on how to use the container but that&#8217;s not the scope of this post. It just serves the purpose of understanding how it works.<\/p>\n\n\n\n<p><\/p>\n","protected":false},"excerpt":{"rendered":"<p>Running a service inside a container is the whole purpose of building and managing the [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":1401,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"nf_dc_page":"","om_disable_all_campaigns":false,"_mi_skip_tracking":false},"categories":[219],"tags":[500,499,495,220,501,359],"jetpack_featured_media_url":"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/03\/rhsa-Manage-containers.png?fit=1280%2C720&ssl=1","_links":{"self":[{"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/posts\/1412"}],"collection":[{"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=%2Fwp%2Fv2%2Fcomments&post=1412"}],"version-history":[{"count":4,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/posts\/1412\/revisions"}],"predecessor-version":[{"id":1451,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/posts\/1412\/revisions\/1451"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/media\/1401"}],"wp:attachment":[{"href":"https:\/\/thetechcorner.org\/index.php?rest_route=%2Fwp%2Fv2%2Fmedia&parent=1412"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=%2Fwp%2Fv2%2Fcategories&post=1412"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=%2Fwp%2Fv2%2Ftags&post=1412"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}