<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	
	xmlns:georss="http://www.georss.org/georss"
	xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
	>

<channel>
	<title>RHCSA &#8211; TheTechCorner</title>
	<atom:link href="https://thetechcorner.org/?feed=rss2&#038;cat=219" rel="self" type="application/rss+xml" />
	<link>https://thetechcorner.org</link>
	<description>A corner on the internet where I share my ideas, guides and projects</description>
	<lastBuildDate>Mon, 28 Mar 2022 09:53:06 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.1.1</generator>
<site xmlns="com-wordpress:feed-additions:1">187618359</site>	<item>
		<title>RHCSA 8 GITHUB CheatSheet</title>
		<link>https://thetechcorner.org/?p=1474&#038;utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=rhcsa-8-github-cheatsheet</link>
		
		<dc:creator><![CDATA[Filip Zverec]]></dc:creator>
		<pubDate>Mon, 28 Mar 2022 09:53:01 +0000</pubDate>
				<category><![CDATA[RHCSA]]></category>
		<category><![CDATA[cheat]]></category>
		<category><![CDATA[cheatsheet]]></category>
		<category><![CDATA[rhcsa]]></category>
		<category><![CDATA[sheet]]></category>
		<guid isPermaLink="false">https://thetechcorner.org/?p=1474</guid>

					<description><![CDATA[Our RHCSA 8 series has finally come to an end. Well, at least for the [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p>Our RHCSA 8 series has finally come to an end. Well, at least for the main study part, I&#8217;m still planning on creating some practice exams exercises and some useful links to help you (and me) with the exam.</p>



<p></p>



<p>As the first and main step, you should memorize the most of the commands and what they do. You don&#8217;t have to learn specific flags for the most of them (even tho it will come handy) because you can just use the man pages. But the man pages won&#8217;t help you a thing if you don&#8217;t even know the name of the command or the necessary steps for completing the task. </p>



<p>To not have to go through the commands over and over in my posts, I&#8217;ve created simple cheat sheet notes that you can just &#8220;ctrl+f&#8221; your way through. It&#8217;s on my GitHub which I&#8217;ll be adding more tips and commands as I go through it, enjoy!</p>



<p></p>



<p><a href="https://github.com/Ard3ny/RHCSA8_CheatSheet/blob/main/RHCSA8-Cheat-Sheet.txt">https://github.com/Ard3ny/RHCSA8_CheatSheet/blob/main/RHCSA8-Cheat-Sheet.txt</a></p>
]]></content:encoded>
					
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">1474</post-id>	</item>
		<item>
		<title>Attach persistent storage to a container</title>
		<link>https://thetechcorner.org/?p=1430&#038;utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=attach-persistent-storage-to-a-container</link>
		
		<dc:creator><![CDATA[Filip Zverec]]></dc:creator>
		<pubDate>Sat, 19 Mar 2022 16:49:00 +0000</pubDate>
				<category><![CDATA[RHCSA]]></category>
		<category><![CDATA[attach]]></category>
		<category><![CDATA[persistent]]></category>
		<category><![CDATA[rhcsa]]></category>
		<category><![CDATA[storage]]></category>
		<guid isPermaLink="false">https://thetechcorner.org/?p=1430</guid>

					<description><![CDATA[As you may or may not know, whenever you stop the container, all the data [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p>As you may or may not know, whenever you stop the container, all the data from the running session are going to be deleted. This would be very impractical with almost every use case of using containers, so to bypass this, we attach external storage outside the container.</p>



<p>First let&#8217;s create a folder outside of the container which we will later attach to the container</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">mkdir httpd</pre>
</div></div>



<p>And now create a testfile which will tell us if the storage is attached and if it&#8217;s get erased after stopping the container</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">echo "<strong>Hello There</strong>. General Kenobi!" > httpd/test.txt</pre>
</div></div>



<p></p>



<p>And the last step in this process is attaching this folder to the container with <em>podman run</em> command. We do this by adding a new flag -v</p>



<blockquote class="wp-block-quote"><p>&#8211;<strong>v</strong>: or volume is a flag that creates a bind mount. If you specify <em>/HOST-DIR</em>:<em>/CONTAINER-DIR</em>, Podman bind mounts <em>host-dir</em> in the host to <em>CONTAINER-DIR</em> in the Podman container. Similarly, <em>SOURCE-VOLUME</em>:<em>/CONTAINER-DIR</em> will mount the volume in the host to the container. If no such named volume exists, Podman will create one.</p></blockquote>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">podman run --name httpd_server -dit -p 7002:8080 -v ~/httpd:/var/www/html:z registry.access.redhat.com/rhscl/httpd-24-rhel </pre>
</div></div>



<figure class="wp-block-image size-large is-style-default"><img decoding="async" width="640" height="113" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-56.png?resize=640%2C113&#038;ssl=1" alt="" class="wp-image-1452" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-56.png?resize=1024%2C181&amp;ssl=1 1024w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-56.png?resize=300%2C53&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-56.png?resize=768%2C136&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-56.png?resize=24%2C4&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-56.png?resize=36%2C6&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-56.png?resize=48%2C8&amp;ssl=1 48w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-56.png?w=1150&amp;ssl=1 1150w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure>



<p></p>



<p>And let&#8217;s check if the file is attached </p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">curl http://localhost:7002/test.txt</pre>
</div></div>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-full"><img decoding="async" loading="lazy" width="640" height="54" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-57.png?resize=640%2C54&#038;ssl=1" alt="" class="wp-image-1453" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-57.png?w=678&amp;ssl=1 678w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-57.png?resize=300%2C25&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-57.png?resize=24%2C2&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-57.png?resize=36%2C3&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-57.png?resize=48%2C4&amp;ssl=1 48w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></div>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-full"><img decoding="async" loading="lazy" width="640" height="157" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-58.png?resize=640%2C157&#038;ssl=1" alt="" class="wp-image-1454" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-58.png?w=695&amp;ssl=1 695w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-58.png?resize=300%2C73&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-58.png?resize=24%2C6&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-58.png?resize=36%2C9&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-58.png?resize=48%2C12&amp;ssl=1 48w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></div>



<p></p>



<blockquote class="wp-block-quote"><p>And finally we&#8217;ve come to the end of this series. Well, I would say, at least the main part of it. Even tho I&#8217;ve covered all the posts from RHCSA 8 series, I still plan on working some study materials and test labs, so tuned again!</p></blockquote>



<p></p>
]]></content:encoded>
					
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">1430</post-id>	</item>
		<item>
		<title>Configure a container to start automatically as a systemd service</title>
		<link>https://thetechcorner.org/?p=1429&#038;utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=configure-a-container-to-start-automatically-as-a-systemd-service</link>
		
		<dc:creator><![CDATA[Filip Zverec]]></dc:creator>
		<pubDate>Fri, 18 Mar 2022 16:49:00 +0000</pubDate>
				<category><![CDATA[RHCSA]]></category>
		<category><![CDATA[automatically]]></category>
		<category><![CDATA[configure]]></category>
		<category><![CDATA[container]]></category>
		<category><![CDATA[podman]]></category>
		<category><![CDATA[rhcsa]]></category>
		<category><![CDATA[run]]></category>
		<category><![CDATA[systemd]]></category>
		<guid isPermaLink="false">https://thetechcorner.org/?p=1429</guid>

					<description><![CDATA[To start container automatically after the boot we need to make container into a service [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p>To start container automatically after the boot we need to make container into a service which we will then enable, as we done many times before.</p>



<p></p>



<p>To create &#8220;link&#8221; from a specific container we again use <em>podman</em> utility. Podman includes a <code>podman generate systemd</code> command, which outputs a valid systemd configuration file (called a <em>unit</em>) for the container. To do that we need a name of a container.</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">podman ps </pre>
</div></div>



<figure class="wp-block-image size-large is-style-default"><img decoding="async" loading="lazy" width="640" height="58" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-50.png?resize=640%2C58&#038;ssl=1" alt="" class="wp-image-1443" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-50.png?resize=1024%2C92&amp;ssl=1 1024w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-50.png?resize=300%2C27&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-50.png?resize=768%2C69&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-50.png?resize=24%2C2&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-50.png?resize=36%2C3&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-50.png?resize=48%2C4&amp;ssl=1 48w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-50.png?w=1212&amp;ssl=1 1212w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure>



<p></p>



<p>When we have a name we simply run</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">podman generate systemd httpd_server2</pre>
</div></div>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-large"><img decoding="async" loading="lazy" width="640" height="242" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-51.png?resize=640%2C242&#038;ssl=1" alt="" class="wp-image-1444" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-51.png?resize=1024%2C387&amp;ssl=1 1024w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-51.png?resize=300%2C113&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-51.png?resize=768%2C290&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-51.png?resize=24%2C9&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-51.png?resize=36%2C14&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-51.png?resize=48%2C18&amp;ssl=1 48w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-51.png?w=1215&amp;ssl=1 1215w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></div>



<p>This only pipe text to our screen, but we need to pipe this into a system directory</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">podman generate systemd httpd_server2 > /etc/systemd/system/httpd.service</pre>
</div></div>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-full"><img decoding="async" loading="lazy" width="640" height="53" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-52.png?resize=640%2C53&#038;ssl=1" alt="" class="wp-image-1445" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-52.png?w=902&amp;ssl=1 902w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-52.png?resize=300%2C25&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-52.png?resize=768%2C64&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-52.png?resize=24%2C2&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-52.png?resize=36%2C3&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-52.png?resize=48%2C4&amp;ssl=1 48w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></div>



<p>To check if the file exist we can use ls command or <em>systemctl list-unit-files</em></p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">systemctl list-unit-files | grep httpd</pre>
</div></div>



<figure class="wp-block-image size-large is-style-default"><img decoding="async" loading="lazy" width="640" height="33" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-53.png?resize=640%2C33&#038;ssl=1" alt="" class="wp-image-1446" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-53.png?resize=1024%2C52&amp;ssl=1 1024w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-53.png?resize=300%2C15&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-53.png?resize=768%2C39&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-53.png?resize=24%2C1&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-53.png?resize=36%2C2&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-53.png?resize=48%2C2&amp;ssl=1 48w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-53.png?w=1147&amp;ssl=1 1147w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure>



<p></p>



<p>The final step is to enable and start this service</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">systemctl enable httpd.service --now</pre>
</div></div>



<figure class="wp-block-image size-large is-style-default"><img decoding="async" loading="lazy" width="640" height="171" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-54.png?resize=640%2C171&#038;ssl=1" alt="" class="wp-image-1447" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-54.png?resize=1024%2C273&amp;ssl=1 1024w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-54.png?resize=300%2C80&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-54.png?resize=768%2C205&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-54.png?resize=24%2C6&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-54.png?resize=36%2C10&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-54.png?resize=48%2C13&amp;ssl=1 48w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-54.png?w=1244&amp;ssl=1 1244w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure>



<p></p>



<p>You can try to reboot the system now and list the running containers to see if it worked.</p>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-large"><img decoding="async" loading="lazy" width="640" height="268" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-55.png?resize=640%2C268&#038;ssl=1" alt="" class="wp-image-1448" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-55.png?resize=1024%2C428&amp;ssl=1 1024w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-55.png?resize=300%2C125&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-55.png?resize=768%2C321&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-55.png?resize=24%2C10&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-55.png?resize=36%2C15&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-55.png?resize=48%2C20&amp;ssl=1 48w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-55.png?w=1150&amp;ssl=1 1150w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></div>
]]></content:encoded>
					
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">1429</post-id>	</item>
		<item>
		<title>Run a service inside a container</title>
		<link>https://thetechcorner.org/?p=1412&#038;utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=run-a-service-inside-a-container</link>
		
		<dc:creator><![CDATA[Filip Zverec]]></dc:creator>
		<pubDate>Thu, 17 Mar 2022 16:54:00 +0000</pubDate>
				<category><![CDATA[RHCSA]]></category>
		<category><![CDATA[apache]]></category>
		<category><![CDATA[httpd]]></category>
		<category><![CDATA[podman]]></category>
		<category><![CDATA[rhcsa]]></category>
		<category><![CDATA[run]]></category>
		<category><![CDATA[service]]></category>
		<guid isPermaLink="false">https://thetechcorner.org/?p=1412</guid>

					<description><![CDATA[Running a service inside a container is the whole purpose of building and managing the [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p>Running a service inside a container is the whole purpose of building and managing the container. Few reasons why running a service like this is beneficial </p>



<ul><li><strong>Less overhead</strong><br>Containers require less system resources than traditional or hardware virtual machine environments because they don’t include operating system images.</li><li><strong>Increased portability</strong><br>Applications running in containers can be deployed easily to multiple different operating systems and hardware platforms.</li><li><strong>More consistent operation</strong><br>DevOps teams know applications in containers will run the same, regardless of where they are deployed.</li><li><strong>Greater efficiency</strong><br>Containers allow applications to be more rapidly deployed, patched, or scaled.</li><li><strong>Better application development</strong><br>Containers support agile and DevOps efforts to accelerate development, test, and production cycles.</li></ul>



<p></p>



<p>Let&#8217;s pick up where last post end up and demonstrate this by running a site with apache server. After we&#8217;ve successfully downloaded the apache image container by typing command bellow, it&#8217;s time to start up the container.</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">podman pull registry.access.redhat.com/rhscl/httpd-24-rhel7</pre>
</div></div>



<p></p>



<p>We&#8217;ve already started a container in a previous post, but we need to adjust command a little.</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">podman run --name httpd_server -dit -p 7000:8080 registry.access.redhat.com/rhscl/httpd-24-rhel</pre>
</div></div>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-large"><img decoding="async" loading="lazy" width="640" height="71" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-41.png?resize=640%2C71&#038;ssl=1" alt="" class="wp-image-1431" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-41.png?resize=1024%2C113&amp;ssl=1 1024w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-41.png?resize=300%2C33&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-41.png?resize=768%2C85&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-41.png?resize=24%2C3&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-41.png?resize=36%2C4&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-41.png?resize=48%2C5&amp;ssl=1 48w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-41.png?w=1248&amp;ssl=1 1248w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></div>



<p>What we&#8217;ve done is that we added a flag -dit and -p for:</p>



<p><strong>-d</strong>: Because the container is being run in detached mode, represented by the <code>-d</code> in the <code>podman run</code> command, Podman will print the container ID after it has executed the command. </p>



<p><code>-<strong>t</strong></code> also adds a pseudo-tty to run arbitrary commands in an interactive shell.</p>



<p>&#8211;<strong>i</strong> which is short for <strong>interactive</strong>. When set to <strong>true</strong>, keep stdin open even if not attached. The default is <strong>false</strong>.</p>



<p>&#8211;<strong>p </strong>or <strong>&#8211;publish</strong> which helps us define container’s port, or range of ports, to the host</p>



<p></p>



<h3><strong>Test the httpd container</strong></h3>



<p><strong>We can test the httpd from our local host by console</strong></p>



<pre class="wp-block-code"><code>curl http://localhost:7000
</code></pre>



<figure class="wp-block-image size-full is-style-default"><img decoding="async" loading="lazy" width="640" height="179" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-42.png?resize=640%2C179&#038;ssl=1" alt="" class="wp-image-1433" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-42.png?w=914&amp;ssl=1 914w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-42.png?resize=300%2C84&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-42.png?resize=768%2C215&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-42.png?resize=24%2C7&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-42.png?resize=36%2C10&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-42.png?resize=48%2C13&amp;ssl=1 48w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure>



<p></p>



<p><strong>Or by web browser</strong></p>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-large"><img decoding="async" loading="lazy" width="640" height="344" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-43.png?resize=640%2C344&#038;ssl=1" alt="" class="wp-image-1434" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-43.png?resize=1024%2C551&amp;ssl=1 1024w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-43.png?resize=300%2C162&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-43.png?resize=768%2C413&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-43.png?resize=24%2C13&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-43.png?resize=36%2C19&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-43.png?resize=48%2C26&amp;ssl=1 48w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-43.png?w=1265&amp;ssl=1 1265w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></div>



<p></p>



<p><strong>or by using IP address</strong></p>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-full"><img decoding="async" loading="lazy" width="640" height="350" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-45.png?resize=640%2C350&#038;ssl=1" alt="" class="wp-image-1437" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-45.png?w=946&amp;ssl=1 946w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-45.png?resize=300%2C164&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-45.png?resize=768%2C420&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-45.png?resize=24%2C13&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-45.png?resize=36%2C20&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-45.png?resize=48%2C26&amp;ssl=1 48w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></div>



<p></p>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-full"><img decoding="async" loading="lazy" width="640" height="230" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-46.png?resize=640%2C230&#038;ssl=1" alt="" class="wp-image-1438" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-46.png?w=970&amp;ssl=1 970w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-46.png?resize=300%2C108&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-46.png?resize=768%2C276&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-46.png?resize=24%2C9&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-46.png?resize=36%2C13&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-46.png?resize=48%2C17&amp;ssl=1 48w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></div>



<p></p>



<h3>Inspect a running container</h3>



<p>You can “inspect” a running container for metadata and details about itself</p>



<p>To inspect the latest container add the flag -l to the command</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">podman inspect -l </pre>
</div></div>



<p>To view a logs type</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">podman logs -l</pre>
</div></div>



<figure class="wp-block-image size-large is-style-default"><img decoding="async" loading="lazy" width="640" height="274" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-49.png?resize=640%2C274&#038;ssl=1" alt="" class="wp-image-1441" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-49.png?resize=1024%2C439&amp;ssl=1 1024w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-49.png?resize=300%2C129&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-49.png?resize=768%2C329&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-49.png?resize=24%2C10&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-49.png?resize=36%2C15&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-49.png?resize=48%2C21&amp;ssl=1 48w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-49.png?w=1214&amp;ssl=1 1214w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure>



<p></p>



<p>There are many more possibilities on how to use the container but that&#8217;s not the scope of this post. It just serves the purpose of understanding how it works.</p>



<p></p>
]]></content:encoded>
					
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">1412</post-id>	</item>
		<item>
		<title>Perform container management using commands such as podman and skopeo</title>
		<link>https://thetechcorner.org/?p=1409&#038;utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=perform-container-management-using-commands-such-as-podman-and-skopeo</link>
		
		<dc:creator><![CDATA[Filip Zverec]]></dc:creator>
		<pubDate>Tue, 15 Mar 2022 17:55:46 +0000</pubDate>
				<category><![CDATA[RHCSA]]></category>
		<category><![CDATA[container]]></category>
		<category><![CDATA[management]]></category>
		<category><![CDATA[rhcsa]]></category>
		<category><![CDATA[skopeo]]></category>
		<guid isPermaLink="false">https://thetechcorner.org/?p=1409</guid>

					<description><![CDATA[We already used podman and skopeo in the previous posts, where we downloaded and inspected [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p>We already used podman and skopeo in the previous posts, where we downloaded and inspected the container, but let&#8217;s practice again.</p>



<p>To search for the specific container we use command </p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">podman search ubi | less</pre>
</div></div>



<figure class="wp-block-image size-full is-style-default"><img decoding="async" loading="lazy" width="640" height="187" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-31.png?resize=640%2C187&#038;ssl=1" alt="" class="wp-image-1415" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-31.png?w=858&amp;ssl=1 858w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-31.png?resize=300%2C88&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-31.png?resize=768%2C225&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-31.png?resize=24%2C7&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-31.png?resize=36%2C11&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-31.png?resize=48%2C14&amp;ssl=1 48w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure>



<p></p>



<p>When we have this list of available container images we can choose one and again use podman to pull it to our VM.</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">podman pull &lt;registry&gt;[:&lt;port&gt;]/[&lt;namespace&gt;/]&lt;name&gt;:&lt;tag&gt;</pre>
</div></div>



<p>Or in our case</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">podman pull<em> registry-access.redhat.com/ubi8</em></pre>
</div></div>



<figure class="wp-block-image size-full is-style-default"><img decoding="async" loading="lazy" width="640" height="133" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-32.png?resize=640%2C133&#038;ssl=1" alt="" class="wp-image-1416" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-32.png?w=959&amp;ssl=1 959w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-32.png?resize=300%2C62&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-32.png?resize=768%2C159&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-32.png?resize=24%2C5&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-32.png?resize=36%2C7&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-32.png?resize=48%2C10&amp;ssl=1 48w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure>



<p></p>



<p>After we have successfully downloaded the image we can run the container by typing</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">podman run -d <em>registry-access.redhat.com/ubi8</em></pre>
</div></div>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-full"><img decoding="async" loading="lazy" width="484" height="41" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-33.png?resize=484%2C41&#038;ssl=1" alt="" class="wp-image-1417" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-33.png?w=484&amp;ssl=1 484w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-33.png?resize=300%2C25&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-33.png?resize=24%2C2&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-33.png?resize=36%2C3&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-33.png?resize=48%2C4&amp;ssl=1 48w" sizes="(max-width: 484px) 100vw, 484px" data-recalc-dims="1" /></figure></div>



<p>Now we can use skopeo to inspect the image with a command</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">skopeo inspect docker://image_name | less</pre>
</div></div>



<p>Or in our case</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">skopeo inspect docker://registry-access.redhat.com/ubi8 | less </pre>
</div></div>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-full"><img decoding="async" loading="lazy" width="640" height="258" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-34.png?resize=640%2C258&#038;ssl=1" alt="" class="wp-image-1418" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-34.png?w=861&amp;ssl=1 861w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-34.png?resize=300%2C121&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-34.png?resize=768%2C310&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-34.png?resize=24%2C10&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-34.png?resize=36%2C15&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-34.png?resize=48%2C19&amp;ssl=1 48w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></div>



<p></p>



<p>This was just a recapitulation of everything I&#8217;ve already showed you, but a little recapitulation is always good right?</p>
]]></content:encoded>
					
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">1409</post-id>	</item>
		<item>
		<title>Inspect container images</title>
		<link>https://thetechcorner.org/?p=1395&#038;utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=inspect-container-images</link>
		
		<dc:creator><![CDATA[Filip Zverec]]></dc:creator>
		<pubDate>Tue, 08 Mar 2022 17:52:00 +0000</pubDate>
				<category><![CDATA[RHCSA]]></category>
		<category><![CDATA[container]]></category>
		<category><![CDATA[images]]></category>
		<category><![CDATA[inspect]]></category>
		<category><![CDATA[podman]]></category>
		<category><![CDATA[rhcsa]]></category>
		<category><![CDATA[skopeo]]></category>
		<guid isPermaLink="false">https://thetechcorner.org/?p=1395</guid>

					<description><![CDATA[To inspect container images, we use a command called skopeo skopeo&#160;is a command line utility [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p>To inspect container images, we use a command called <em>skopeo</em></p>



<blockquote class="wp-block-quote"><p><code>skopeo</code>&nbsp;is a command line utility providing various operations with container images and container image registries.</p><p><code>skopeo</code>&nbsp;can copy container images between various containers image stores, converting them as necessary. &nbsp;For example you can use&nbsp;<code>skopeo</code>&nbsp;to copy container images from one container registry to another.</p><p><code>skopeo</code>&nbsp;can convert a Docker schema 2 or schema 1 container image to an OCI image.</p><p><code>skopeo</code>&nbsp;can inspect a repository on a container registry without needlessly pulling the image. Pulling an image from a repository, especially a remote repository, is an expensive network and storage operation. Skopeo fetches the repository&#8217;s manifest and displays a&nbsp;<code>docker inspect</code>-like json output about the repository or a tag.&nbsp;<code>skopeo</code>, in contrast to&nbsp;<code>docker inspect</code>, helps you gather useful information about a repository or a tag without requiring you to run&nbsp;<code>docker pull</code>&nbsp;&#8211; e.g. &#8211; Which tags are available for the given repository? Which labels does the image have?</p></blockquote>



<p></p>



<p><strong>To install skopeo with dnf simple type</strong></p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-code"><code>sudo dnf -y install skopeo
</code></pre>
</div></div>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-full"><img decoding="async" loading="lazy" width="640" height="302" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-28.png?resize=640%2C302&#038;ssl=1" alt="" class="wp-image-1398" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-28.png?w=721&amp;ssl=1 721w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-28.png?resize=300%2C141&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-28.png?resize=24%2C11&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-28.png?resize=36%2C17&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-28.png?resize=48%2C23&amp;ssl=1 48w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></div>



<p><strong>To inspect container image</strong></p>



<p>Let&#8217;s try to find some image with podman, so we can inspect him close</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">podman search httpd | less</pre>
</div></div>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-large"><img decoding="async" loading="lazy" width="640" height="111" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-29.png?resize=640%2C111&#038;ssl=1" alt="" class="wp-image-1399" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-29.png?resize=1024%2C178&amp;ssl=1 1024w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-29.png?resize=300%2C52&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-29.png?resize=768%2C134&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-29.png?resize=24%2C4&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-29.png?resize=36%2C6&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-29.png?resize=48%2C8&amp;ssl=1 48w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-29.png?w=1251&amp;ssl=1 1251w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></div>



<p>And now when we finally have an image name <strong>we can inspect it with scopeo </strong></p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">skopeo inspect docker://image_name | less</pre>
</div></div>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-large"><img decoding="async" loading="lazy" width="640" height="248" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-30.png?resize=640%2C248&#038;ssl=1" alt="" class="wp-image-1400" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-30.png?resize=1024%2C396&amp;ssl=1 1024w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-30.png?resize=300%2C116&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-30.png?resize=768%2C297&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-30.png?resize=24%2C9&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-30.png?resize=36%2C14&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-30.png?resize=48%2C19&amp;ssl=1 48w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-30.png?w=1263&amp;ssl=1 1263w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></div>
]]></content:encoded>
					
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">1395</post-id>	</item>
		<item>
		<title>Manage containers</title>
		<link>https://thetechcorner.org/?p=1388&#038;utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=manage-containers%25ef%25bf%25bc</link>
		
		<dc:creator><![CDATA[Filip Zverec]]></dc:creator>
		<pubDate>Mon, 07 Mar 2022 17:08:00 +0000</pubDate>
				<category><![CDATA[RHCSA]]></category>
		<category><![CDATA[containers]]></category>
		<category><![CDATA[image]]></category>
		<category><![CDATA[manage]]></category>
		<category><![CDATA[rhcsa]]></category>
		<guid isPermaLink="false">https://thetechcorner.org/?p=1388</guid>

					<description><![CDATA[As always, Ill start with some theory and information behind the topic, so you can [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p>As always, Ill start with some theory and information behind the topic, so you can have better understanding of things we are going to do in following topics.</p>



<p></p>



<h3><strong>What are containers anyway? </strong></h3>



<blockquote class="wp-block-quote"><p><a href="https://www.redhat.com/en/topics/containers/whats-a-linux-container">Linux containers</a> are technologies that allow you to package and isolate applications with their entire runtime environment—all of the files necessary to run. This makes it easy to move the contained application between environments (dev, test, production, etc.) while retaining full functionality. Containers are also an important part of&nbsp;<a href="https://www.redhat.com/en/topics/security">IT security</a>. By&nbsp;<a href="https://www.redhat.com/en/topics/security/container-security">building security into the container pipeline</a>&nbsp;and defending your infrastructure, you can make sure your containers are reliable, scalable, and trusted.</p></blockquote>



<p></p>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-full"><img decoding="async" loading="lazy" width="566" height="465" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-24.png?resize=566%2C465&#038;ssl=1" alt="" class="wp-image-1389" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-24.png?w=566&amp;ssl=1 566w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-24.png?resize=300%2C246&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-24.png?resize=24%2C20&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-24.png?resize=36%2C30&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-24.png?resize=48%2C39&amp;ssl=1 48w" sizes="(max-width: 566px) 100vw, 566px" data-recalc-dims="1" /></figure></div>



<p></p>



<h3>Image</h3>



<p>An image is a static snapshot of a containers’ configuration data at a specific time. It is a read-only layer where you can define all configuration changes in the top-most writable layer. You can save it only by creating a new image. Each image depends on one or more parent images.</p>



<h3>Platform-image</h3>



<p>A platform image has no parent. Instead, you can use it to define the runtime environment, packages, and utilities necessary for a containerized application to launch and run. For example, to work with Docker containers, you pull a read-only platform image. Any changes defined reflect in the copied images stacked on top of the initial Docker Image. Next, it creates an application layer that contains added libraries and dependencies for the containerized application.</p>



<p>A container can be very large or small depending on the number of packages and dependencies included in the application layer. Moreover, further layering of the image is possible with independent 3rd party software and dependencies. Thus, from an operational point of view, there can be many layers behind an Image. However, the layers only appear as one container to a user.</p>



<p></p>



<h2>Container registries</h2>



<p>A container registry is a repository or collection of repositories for storing container images and container-based application artifacts. The registries that Red Hat provides are:</p>



<ul><li>registry.redhat.io (requires authentication)</li><li>registry.access.redhat.com (requires no authentication)</li><li>registry.connect.redhat.com (holds&nbsp;<a href="https://connect.redhat.com/">Red Hat Partner Connect</a>&nbsp;program images)</li></ul>



<h3><a href="https://www.fosslinux.com/48654/managing-linux-containers.htm">Container orchestration</a></h3>



<p>Container orchestration is the process of automating deployment, provisioning, management, scaling, security, lifecycle, load balancing, and networking of containerized services and workloads. The main benefit of orchestration is automation. Orchestration supports a DevOps or agile development process that allows teams to develop and deploy in iterative cycles and release new features faster. Popular orchestration tools include&nbsp;<a href="https://kubernetes.io/">Kubernetes</a>,&nbsp;<a href="https://aws.amazon.com/ecr/">Amazon ECR</a>&nbsp;<a href="https://docs.docker.com/engine/swarm/">Docker Swarm</a>,</p>



<p></p>



<h2>Tools used</h2>



<p>First, we will need to install necessary packages to work with containers. Module container tool contains pretty much everything we need for the start.</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">yum module install container-tools</pre>
</div></div>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-full"><img decoding="async" loading="lazy" width="604" height="288" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-25.png?resize=604%2C288&#038;ssl=1" alt="" class="wp-image-1390" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-25.png?w=604&amp;ssl=1 604w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-25.png?resize=300%2C143&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-25.png?resize=24%2C11&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-25.png?resize=36%2C17&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-25.png?resize=48%2C23&amp;ssl=1 48w" sizes="(max-width: 604px) 100vw, 604px" data-recalc-dims="1" /></figure></div>



<p></p>



<p>And for the most of the testing I&#8217;ll be using apache as well</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">yum install httpd</pre>
</div></div>



<p></p>



<h2>Find and retrieve container images from a remote registry</h2>



<p>To find or get container images from a remote registry, such as Red Hat’s own container registry or any other mentioned registry, and add them to your local system, use the&nbsp;<code>podman search/pull</code>&nbsp;command:</p>



<p></p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre id="block-070ba112-f362-4a60-b6c2-ce23a05b0ceb" class="wp-block-preformatted">podman search &lt;registry&gt;[:&lt;port&gt;]/[&lt;namespace&gt;/]&lt;name&gt;:&lt;tag&gt;</pre>
</div></div>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">podman pull &lt;registry&gt;[:&lt;port&gt;]/[&lt;namespace&gt;/]&lt;name&gt;:&lt;tag&gt;</pre>
</div></div>



<p>where&nbsp;<code>&lt;registry&gt;[:&lt;port&gt;]/[&lt;namespace&gt;/]&lt;name&gt;:&lt;tag&gt;</code>&nbsp;is the name of the container image.</p>



<p>For example, the&nbsp;<code>registry.redhat.io/ubi8/ubi</code>&nbsp;container image is identified by:</p>



<ul><li>Registry server (<code>registry.redhat.io</code>)</li><li>Namespace (<code>ubi8</code>)</li><li>Image name (<code>ubi</code>)</li></ul>



<p><strong>For example, let&#8217;s try to search and pull for the mentioned ubi (universal base image) image name</strong></p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">podman search ubi | less</pre>
</div></div>



<p>You should get many options listed, here is just the short screenshot from the whole screen.</p>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-full"><img decoding="async" loading="lazy" width="640" height="85" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-26.png?resize=640%2C85&#038;ssl=1" alt="" class="wp-image-1392" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-26.png?w=899&amp;ssl=1 899w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-26.png?resize=300%2C40&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-26.png?resize=768%2C103&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-26.png?resize=24%2C3&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-26.png?resize=36%2C5&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-26.png?resize=48%2C6&amp;ssl=1 48w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></div>



<p></p>



<p>Now that we have searched for ubi imagine, we can pick the one that suits our needs the most. Because we want normal installation and we are working on CentOS 8 let&#8217;s pick the <em>registry-access.redhat.com/ubi8/ub</em>i</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">podman pull<em> registry-access.redhat.com/ubi8</em></pre>
</div></div>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-full"><img decoding="async" loading="lazy" width="640" height="135" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-27.png?resize=640%2C135&#038;ssl=1" alt="" class="wp-image-1393" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-27.png?w=794&amp;ssl=1 794w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-27.png?resize=300%2C63&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-27.png?resize=768%2C162&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-27.png?resize=24%2C5&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-27.png?resize=36%2C8&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-27.png?resize=48%2C10&amp;ssl=1 48w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></div>
]]></content:encoded>
					
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">1388</post-id>	</item>
		<item>
		<title>Use boolean settings to modify system SELinux settings</title>
		<link>https://thetechcorner.org/?p=1375&#038;utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=use-boolean-settings-to-modify-system-selinux-settings</link>
		
		<dc:creator><![CDATA[Filip Zverec]]></dc:creator>
		<pubDate>Sun, 06 Mar 2022 16:57:00 +0000</pubDate>
				<category><![CDATA[RHCSA]]></category>
		<category><![CDATA[boolean]]></category>
		<category><![CDATA[getseboolsemanage]]></category>
		<category><![CDATA[modify]]></category>
		<category><![CDATA[rhca]]></category>
		<category><![CDATA[SElinux]]></category>
		<category><![CDATA[settings]]></category>
		<guid isPermaLink="false">https://thetechcorner.org/?p=1375</guid>

					<description><![CDATA[Booleans allow parts of SELinux policy to be changed at runtime, without any knowledge of [&#8230;]]]></description>
										<content:encoded><![CDATA[
<blockquote class="wp-block-quote"><p><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/selinux_users_and_administrators_guide/sect-security-enhanced_linux-working_with_selinux-booleans">Booleans </a>allow parts of SELinux policy to be changed at runtime, without any knowledge of SELinux policy writing. This allows changes, such as allowing services access to NFS volumes, without reloading or recompiling SELinux policy.</p></blockquote>



<p></p>



<p><strong>Getting info about boolean in the system</strong></p>



<p>The name of booleans can be sometimes very confusing and tricky to figure out. But to get information about all booleans we can use command</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">semanage boolean -l</pre>
</div></div>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-large"><img decoding="async" loading="lazy" width="640" height="125" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-18.png?resize=640%2C125&#038;ssl=1" alt="" class="wp-image-1377" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-18.png?resize=1024%2C200&amp;ssl=1 1024w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-18.png?resize=300%2C58&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-18.png?resize=768%2C150&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-18.png?resize=24%2C5&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-18.png?resize=36%2C7&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-18.png?resize=48%2C9&amp;ssl=1 48w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-18.png?w=1052&amp;ssl=1 1052w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></div>



<p></p>



<p>To list all the booleans without the description, we can also use</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">getsebool -a</pre>
</div></div>



<h3>Configuring booleans </h3>



<p>When you toggle a boolean, it changes the active policy rules on a system.</p>



<p>Let&#8217;s show this on an RH example with apache server.</p>



<p>By default, the <code>httpd_can_network_connect_db</code> Boolean is off, preventing Apache HTTP Server scripts and modules from connecting to database servers:</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">getsebool httpd_can_network_connect_db</pre>
</div></div>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-full"><img decoding="async" loading="lazy" width="567" height="65" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-19.png?resize=567%2C65&#038;ssl=1" alt="" class="wp-image-1378" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-19.png?w=567&amp;ssl=1 567w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-19.png?resize=300%2C34&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-19.png?resize=24%2C3&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-19.png?resize=36%2C4&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-19.png?resize=48%2C6&amp;ssl=1 48w" sizes="(max-width: 567px) 100vw, 567px" data-recalc-dims="1" /></figure></div>



<p>And as you can see it&#8217;s off, but let&#8217;s change that. To do that temporary, we use setsebool command without any flag</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">setsebool httpd_can_network_connect_db on</pre>
</div></div>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-full"><img decoding="async" loading="lazy" width="640" height="57" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-20.png?resize=640%2C57&#038;ssl=1" alt="" class="wp-image-1379" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-20.png?w=665&amp;ssl=1 665w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-20.png?resize=300%2C27&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-20.png?resize=24%2C2&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-20.png?resize=36%2C3&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-20.png?resize=48%2C4&amp;ssl=1 48w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></div>



<p></p>



<h3>Permanently change boolean setting</h3>



<p>To do this change permanently, we simply add -P flag</p>



<figure class="wp-block-image size-full is-style-default"><img decoding="async" loading="lazy" width="640" height="33" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-21.png?resize=640%2C33&#038;ssl=1" alt="" class="wp-image-1380" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-21.png?w=998&amp;ssl=1 998w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-21.png?resize=300%2C16&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-21.png?resize=768%2C40&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-21.png?resize=24%2C1&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-21.png?resize=36%2C2&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-21.png?resize=48%2C3&amp;ssl=1 48w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">setsebool -P httpd_can_network_connect_db on</pre>
</div></div>



<p></p>



<h3>Useful information </h3>



<ul><li>SELinux supports booleans to dynamically update the run-time policy</li><li>the values of these booleans can be persisted across reboots</li><li>you can use <strong>sesearch</strong> to display the consequences of a boolean or to see if a boolean is available to allow certain statements</li><li>Autocompletion (aka using TAB) is possible but you need to use hyphen character &#8211; before, for example </li></ul>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">setsebool -[Tab]</pre>
</div></div>
]]></content:encoded>
					
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">1375</post-id>	</item>
		<item>
		<title>Restore default file contexts</title>
		<link>https://thetechcorner.org/?p=1369&#038;utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=restore-default-file-contexts</link>
		
		<dc:creator><![CDATA[Filip Zverec]]></dc:creator>
		<pubDate>Sat, 05 Mar 2022 16:28:00 +0000</pubDate>
				<category><![CDATA[RHCSA]]></category>
		<category><![CDATA[autorelabel]]></category>
		<category><![CDATA[chcon]]></category>
		<category><![CDATA[contexts]]></category>
		<category><![CDATA[file]]></category>
		<category><![CDATA[restore]]></category>
		<category><![CDATA[restorecon]]></category>
		<category><![CDATA[SElinux]]></category>
		<guid isPermaLink="false">https://thetechcorner.org/?p=1369</guid>

					<description><![CDATA[I&#8217;ve talked about SELinux file and process context in the last post. Now let&#8217;s try [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p>I&#8217;ve talked about SELinux file and process context in the last post. Now let&#8217;s try to change some file context and restore it afterwords.</p>



<p></p>



<p>First, let&#8217;s create a directory in the root folder and list SELinux info with ls command</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">mkdir /test</pre>
</div></div>



<figure class="wp-block-image size-full is-style-default"><img decoding="async" loading="lazy" width="640" height="288" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-15.png?resize=640%2C288&#038;ssl=1" alt="" class="wp-image-1371" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-15.png?w=920&amp;ssl=1 920w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-15.png?resize=300%2C135&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-15.png?resize=768%2C346&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-15.png?resize=24%2C11&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-15.png?resize=36%2C16&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-15.png?resize=48%2C22&amp;ssl=1 48w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure>



<p></p>



<blockquote class="wp-block-quote"><p>By default, newly-created files and directories inherit the SELinux type of their parent directories. For example, when creating a new file in the <code>/</code>etc directory that is labeled with the <code>etc_t</code> type, the new file inherits the same type</p></blockquote>



<p></p>



<p><strong>Changing SELinux context of the file</strong></p>



<p>The <code>chcon</code> command changes the SELinux context for files. However, changes made with the <code>chcon</code> command are not persistent across file-system relabels, or the execution of the <code>restorecon</code> command.</p>



<p>Run the <code>chcon -t <em>type</em> <em>file-name</em></code> command to change the file type, where <em>type</em> is an SELinux type, such as <code>httpd_sys_content_t</code>, and <em>file-name</em> is a file or directory name:</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">chcon -t <em>type</em> <em>file-name</em></pre>
</div></div>



<ul><li>Run the <code>chcon -R -t <em>type</em> <em>directory-name</em></code> command to change the type of the directory and its contents, where <em>type</em> is an SELinux type, such as <code>httpd_sys_content_t</code>, and <em>directory-name</em> is a directory name:<code>~]$</code> <code>chcon -R -t httpd_sys_content_t <em>directory-name</em></code></li></ul>



<p></p>



<p>So in our case, we use chcon command to change type of our /test directory to <code>httpd_sys_content_t</code></p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">chcon -R -t httpd_sys_content_t /test/</pre>
</div></div>



<div class="wp-block-image is-style-default"><figure class="aligncenter size-full"><img decoding="async" loading="lazy" width="640" height="52" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-16.png?resize=640%2C52&#038;ssl=1" alt="" class="wp-image-1372" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-16.png?w=931&amp;ssl=1 931w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-16.png?resize=300%2C24&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-16.png?resize=768%2C62&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-16.png?resize=24%2C2&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-16.png?resize=36%2C3&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-16.png?resize=48%2C4&amp;ssl=1 48w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure></div>



<p></p>



<p><strong>Restore default SELinux context</strong></p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">restorecon -R -v /test/</pre>
</div></div>



<figure class="wp-block-image size-full is-style-default"><img decoding="async" loading="lazy" width="640" height="38" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-17.png?resize=640%2C38&#038;ssl=1" alt="" class="wp-image-1373" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-17.png?w=971&amp;ssl=1 971w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-17.png?resize=300%2C18&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-17.png?resize=768%2C46&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-17.png?resize=24%2C1&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-17.png?resize=36%2C2&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-17.png?resize=48%2C3&amp;ssl=1 48w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure>



<p></p>



<p></p>



<blockquote class="wp-block-quote"><p><strong>restorecon FILE will set the security context for a FILE based on where it is in the filesystem to the default SELinux settings.</strong></p><p><strong>/.autorelabel is a file in / that will configure SELinux to <em>relabel</em> every file on our filesystem when we reboot.</strong></p></blockquote>
]]></content:encoded>
					
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">1369</post-id>	</item>
		<item>
		<title>Diagnose and address routine SELinux policy violations</title>
		<link>https://thetechcorner.org/?p=1382&#038;utm_source=rss&#038;utm_medium=rss&#038;utm_campaign=diagnose-and-address-routine-selinux-policy-violations</link>
		
		<dc:creator><![CDATA[Filip Zverec]]></dc:creator>
		<pubDate>Sat, 05 Mar 2022 16:04:00 +0000</pubDate>
				<category><![CDATA[RHCSA]]></category>
		<category><![CDATA[Diagnose]]></category>
		<category><![CDATA[policy]]></category>
		<category><![CDATA[SElinux]]></category>
		<category><![CDATA[violations]]></category>
		<guid isPermaLink="false">https://thetechcorner.org/?p=1382</guid>

					<description><![CDATA[SELinux isolates all processes running on the system to mitigate attacks which take advantage of [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p>SELinux isolates all processes running on the system to mitigate attacks which take advantage of privilege escalation. Privilege escalation means that a process gains more access rights than it should have.</p>



<p>To prevent this, SELinux enforces Mandatory Access Control (MAC) mechanism over all processes. It labels every process, file, or directory according to rules specified in a security policy known as the SELinux policy.</p>



<p>The SELinux policy also specifies how processes interact with each other and how they can access files and directories. SELinux denies every action that it is not explicitly allowed by the SELinux policy.</p>



<p>The most common causes why SELinux denies an action are:</p>



<ul><li>Processes, files, or directories are labeled with incorrect SELinux context</li><li>confined processes are configured in a different way than what is expected by the default SELinux policy</li><li>there is a bug in the SELinux policy or in an application</li></ul>



<p></p>



<p><strong>Let&#8217;s make a violation first, so we can investigate something.</strong> To create violation we need to create conflict in some SELINUX policy. I&#8217;ve done some googling and find an easy way to make one. Shoutout to this<a href="https://superuser.com/questions/908373/a-way-to-trigger-an-selinux-policy-violation"> blog post</a>.</p>



<ol><li>By default (in CentOS at the time of writing) unprivileged, non-system users are logged in as the &#8216;unconfined_u&#8217; role. However we can change our system so that our unprivileged user &#8216;alice&#8217; is placed into the &#8216;user_u&#8217; role instead. The default policies can be made to clearly restrict this role with only a small amount of additional configuration.<code>[root]# echo "alice:user_u:s0-s0:c0.c1023" >> /etc/selinux/targeted/seusers</code></li><li>Now switch off the ability for these users to execute files located in their home directories and /tmp. Once again, the default is to allow this behaviour. <strong>This command may take a moment to complete</strong>.<code>[root]# setsebool -P user_exec_content off</code></li><li>Now (with our unprivileged user) we can log in and attempt to execute something on one of these no go areas. As you can see, we are denied.<code>[alice]$ cp /bin/ls /tmp/ [alice]$ /tmp/ls -bash: /tmp/ls: Permission denied</code></li></ol>



<p></p>



<p><strong>Other ways to read denial information</strong></p>



<p>The friendly developers that work with SELinux on a daily basis have made a few tools that help you identify SELinux-related issues.</p>



<h4>ausearch</h4>



<p>The&nbsp;<strong>ausearch</strong>&nbsp;utility is not an SELinux-specific utility. It is a Linux audit related utility, which parses the audit logs and allows you to query the entries in the logs. One of the advantages that it shows is that it already converts the time stamp into a human readable one</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">auserach -m AVC,USER_AVC,SELINUX_ERR</pre>
</div></div>



<ol><li>The <code>-m</code> option specifies what kind of information ausearch returns.The <code>-ts</code> option specifies the time stamp. For example <code>-ts recent</code> returns AVC messages from the last 10 minutes or <code>-ts today</code> returns messages from the whole day.</li></ol>



<figure class="wp-block-image size-full is-style-default"><img decoding="async" loading="lazy" width="640" height="74" src="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-23.png?resize=640%2C74&#038;ssl=1" alt="" class="wp-image-1386" srcset="https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-23.png?w=925&amp;ssl=1 925w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-23.png?resize=300%2C35&amp;ssl=1 300w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-23.png?resize=768%2C89&amp;ssl=1 768w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-23.png?resize=24%2C3&amp;ssl=1 24w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-23.png?resize=36%2C4&amp;ssl=1 36w, https://i0.wp.com/thetechcorner.org/wp-content/uploads/2022/03/image-23.png?resize=48%2C6&amp;ssl=1 48w" sizes="(max-width: 640px) 100vw, 640px" data-recalc-dims="1" /></figure>



<p></p>



<h4>sealert</h4>



<p>The <strong>sealert</strong> command is not provided on an SELinux-enabled Gentoo system by default, but it is available on RedHat Enterprise Linux and related distributions. It integrates together with a specific daemon called <strong>setroubleshootd</strong>, which gives a translation of an AVC denial similar to the human translation given earlier in this tutorial. For instance, the following message can be displayed in the system logs:</p>



<p></p>



<p>Few more other ways could be:</p>



<div class="is-layout-flow wp-block-group"><div class="wp-block-group__inner-container">
<pre class="wp-block-preformatted">audit2why -a</pre>
</div></div>



<p></p>
]]></content:encoded>
					
		
		
		<post-id xmlns="com-wordpress:feed-additions:1">1382</post-id>	</item>
	</channel>
</rss>
