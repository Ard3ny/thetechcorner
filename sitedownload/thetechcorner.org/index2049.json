{"id":826,"date":"2022-01-19T16:19:00","date_gmt":"2022-01-19T16:19:00","guid":{"rendered":"https:\/\/thetechcorner.org\/?p=826"},"modified":"2022-01-18T15:43:32","modified_gmt":"2022-01-18T15:43:32","slug":"processing-shell-command-exit-codes","status":"publish","type":"post","link":"https:\/\/thetechcorner.org\/?p=826","title":{"rendered":"Processing shell command exit codes"},"content":{"rendered":"\n<p>As I previously told you,<strong> every Linux or Unix command executed by the shell script or user has an exit status. Exit status is an integer number. 0 exit status means the command was successful without any errors. A non-zero (1-255 values) exit status means the command was a failure.<\/strong><\/p>\n\n\n\n<p><\/p>\n\n\n\n<h3>How to find out the exit code of a command<\/h3>\n\n\n\n<p>You need to use a particular shell variable called\u00a0<kbd><strong>$?<\/strong><\/kbd>\u00a0to get the exit status of the previously executed command.<\/p>\n\n\n\n<p><\/p>\n\n\n\n<div class=\"wp-block-image is-style-default\"><figure class=\"aligncenter size-full\"><img decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"254\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-128.png?resize=640%2C254&#038;ssl=1\" alt=\"\" class=\"wp-image-827\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-128.png?w=655&amp;ssl=1 655w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-128.png?resize=300%2C119&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-128.png?resize=24%2C10&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-128.png?resize=36%2C14&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-128.png?resize=48%2C19&amp;ssl=1 48w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" \/><\/figure><\/div>\n\n\n\n<p><\/p>\n\n\n\n<h3>How to process these exit codes?<\/h3>\n\n\n\n<p>Let&#8217;s make a short script explaining the usefulness of this. This script that you can see below will first ask you to pick a number 1 or 2. Then we make a decision tree function with CASE function in which if you picked 1 will run the 1) part of the code, same for 2 or if you won&#8217;t pick either the code will execute the 3rd option.<\/p>\n\n\n\n<p><\/p>\n\n\n\n<div class=\"wp-block-image is-style-default\"><figure class=\"alignleft size-full is-resized\"><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-130.png?resize=392%2C367&#038;ssl=1\" alt=\"\" class=\"wp-image-829\" width=\"392\" height=\"367\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-130.png?w=532&amp;ssl=1 532w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-130.png?resize=300%2C281&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-130.png?resize=24%2C22&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-130.png?resize=36%2C34&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-130.png?resize=48%2C45&amp;ssl=1 48w\" sizes=\"(max-width: 392px) 100vw, 392px\" data-recalc-dims=\"1\" \/><\/figure><\/div>\n\n\n\n<div class=\"wp-block-image is-style-default\"><figure class=\"alignright size-full is-resized\"><img decoding=\"async\" loading=\"lazy\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-129.png?resize=459%2C373&#038;ssl=1\" alt=\"\" class=\"wp-image-828\" width=\"459\" height=\"373\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-129.png?w=538&amp;ssl=1 538w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-129.png?resize=300%2C244&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-129.png?resize=24%2C19&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-129.png?resize=36%2C29&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-129.png?resize=48%2C39&amp;ssl=1 48w\" sizes=\"(max-width: 459px) 100vw, 459px\" data-recalc-dims=\"1\" \/><\/figure><\/div>\n\n\n\n<p><\/p>\n\n\n\n<p><\/p>\n\n\n\n<p>You may ask, well I understand the logic, but what&#8217;s the usefulness of all this? Glad you asked! I&#8217;ll show you another example on script.<\/p>\n\n\n\n<div class=\"wp-block-image is-style-default\"><figure class=\"aligncenter size-full\"><img decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"357\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-131.png?resize=640%2C357&#038;ssl=1\" alt=\"\" class=\"wp-image-830\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-131.png?w=658&amp;ssl=1 658w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-131.png?resize=300%2C167&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-131.png?resize=24%2C13&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-131.png?resize=36%2C20&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-131.png?resize=48%2C27&amp;ssl=1 48w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" \/><\/figure><\/div>\n\n\n\n<p>This script will check if the directory \/tmp\/bla exists and if it does, script will proceed with exit function which initially ends the script without going to another if function. But if this directory doesn&#8217;t exist, it will make one and proceed to another function, which will check the exit code of the previous IF function and depending on that will choose what to echo to the terminal.<\/p>\n\n\n\n<p>We will start the script without the \/tmp\/bla directory existing and repeating the script 2x times to see the difference.<\/p>\n\n\n\n<p><\/p>\n\n\n\n<div class=\"wp-block-image is-style-default\"><figure class=\"aligncenter size-full\"><img decoding=\"async\" loading=\"lazy\" width=\"459\" height=\"97\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-132.png?resize=459%2C97&#038;ssl=1\" alt=\"\" class=\"wp-image-831\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-132.png?w=459&amp;ssl=1 459w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-132.png?resize=300%2C63&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-132.png?resize=24%2C5&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-132.png?resize=36%2C8&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/image-132.png?resize=48%2C10&amp;ssl=1 48w\" sizes=\"(max-width: 459px) 100vw, 459px\" data-recalc-dims=\"1\" \/><\/figure><\/div>\n\n\n\n<p><\/p>\n\n\n\n<p>There are many many more ways to use exit codes but I think this serves as a good example, so as always use this only as your inspiration and google your way through internet to get more info.<\/p>\n\n\n\n<p><\/p>\n","protected":false},"excerpt":{"rendered":"<p>As I previously told you, every Linux or Unix command executed by the shell script [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":760,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"nf_dc_page":"","om_disable_all_campaigns":false,"_mi_skip_tracking":false},"categories":[219],"tags":[302,301,299,311,287,309,308,290],"jetpack_featured_media_url":"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2022\/01\/rhsa-create-simple-shell-scripts-2.png?fit=1280%2C720&ssl=1","_links":{"self":[{"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/posts\/826"}],"collection":[{"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=%2Fwp%2Fv2%2Fcomments&post=826"}],"version-history":[{"count":1,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/posts\/826\/revisions"}],"predecessor-version":[{"id":832,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/posts\/826\/revisions\/832"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/media\/760"}],"wp:attachment":[{"href":"https:\/\/thetechcorner.org\/index.php?rest_route=%2Fwp%2Fv2%2Fmedia&parent=826"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=%2Fwp%2Fv2%2Fcategories&post=826"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=%2Fwp%2Fv2%2Ftags&post=826"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}