{"id":491,"date":"2021-02-26T16:50:45","date_gmt":"2021-02-26T16:50:45","guid":{"rendered":"https:\/\/thetechcorner.org\/?p=467"},"modified":"2021-06-07T08:21:18","modified_gmt":"2021-06-07T08:21:18","slug":"how-create-nas-server-using-raspberry-pi","status":"publish","type":"post","link":"https:\/\/thetechcorner.org\/?p=491","title":{"rendered":"How to create a NAS server on a Raspberry PI"},"content":{"rendered":"\n<p><strong>NAS<\/strong> stands for <strong>N<\/strong>etwork <strong>A<\/strong>ttached <strong>S<\/strong>torage.<\/p>\n\n\n\n<p>The NAS serves as a storage container for a files of all kinds, photos, videos, music, or movies. Its biggest advantage is that anyone on your local network (to whom you give access) can connect to it, so these files can be access from more than one computer.<\/p>\n\n\n\n<p>For example, you can automatically back up photos from your phone when you come home.It&#8217;s very easy to build someting like that in a few minutes and all you need is some old PC or in our case Raspberry PI with external HDD on which we will store this data.<\/p>\n\n\n\n<p><\/p>\n\n\n\n<h4><strong>Select software<\/strong><\/h4>\n\n\n\n<p>Technology is constantly evolving and the demand for external repositories is increasing. Theref<strong>ore, the<\/strong>re a<strong>re also several different software so<\/strong>lutions for creating NAS server.<\/p>\n\n\n\n<p><strong>FTP<\/strong> &#8211; File Transfer Protocol, one of the first protocols developed back in the 1970s<\/p>\n\n\n\n<p><strong>SAMBA<\/strong> &#8211; one of the most popular software for creating NAS servers mainly for Windows systems<\/p>\n\n\n\n<p><strong>NFS<\/strong> &#8211; Network Attached Storage originally created by Sun Microsystem in 1984<\/p>\n\n\n\n<p><strong>AFP<\/strong> &#8211; The Apple File protocol is similar to SAMBA but already as the name suggests it is mainly aimed at Apple systems and its products<\/p>\n\n\n\n<p><\/p>\n\n\n\n<p>In the future, I will make a tutorial on how to install each one of these on Raspberry PI, but SAMBA and its benefits outweigh all other software so I will use it for the time being.<\/p>\n\n\n\n<p><\/p>\n\n\n\n<h2><strong>What we&#8217;re going to need <\/strong><\/h2>\n\n\n\n<ul><li>Raspberry PI<\/li><li>SD card<\/li><li>Power cord<\/li><li>Ethernet cable (wifi can also be used, but cable is always faster and more reliable)<\/li><li>External HDD\/SSD\/USB<\/li><\/ul>\n\n\n\n<p><\/p>\n\n\n\n<h2><strong>1.<\/strong> <strong>Set-up Raspberry PI <\/strong><\/h2>\n\n\n\n<p>I have already created a tutorial for this step, which you can check out <a href=\"https:\/\/thetechcorner.org\/?p=136\">here<\/a>. You can configure PI <strong>with or without a monitor<\/strong>.<\/p>\n\n\n\n<p>Next, you can check out some other guides on how to <a href=\"https:\/\/thetechcorner.org\/?p=177\">change your hostname and password<\/a> or <a href=\"https:\/\/thetechcorner.org\/?p=177\">how you can overclock your Raspberry PI<\/a> for better performance. <\/p>\n\n\n\n<p><\/p>\n\n\n\n<p><strong>If you have already set-up your Raspberry, you only need to update your Raspbian<\/strong> <strong>packages and version using<\/strong> <strong>these commands<\/strong><\/p>\n\n\n\n<div class=\"is-layout-flow wp-block-group\"><div class=\"wp-block-group__inner-container\">\n<pre class=\"wp-block-preformatted\"><strong>sudo apt update\nsudo apt upgrade<\/strong><\/pre>\n<\/div><\/div>\n\n\n\n<p><\/p>\n\n\n\n<h2><strong>2. Configure NAS SAMBA<\/strong><\/h2>\n\n\n\n<p><strong>a<\/strong>)<strong> First we have to download SAMBA to our PI<\/strong><\/p>\n\n\n\n<div class=\"is-layout-flow wp-block-group\"><div class=\"wp-block-group__inner-container\">\n<pre class=\"wp-block-preformatted\"><strong>sudo apt-get install samba samba-common-bin<\/strong><\/pre>\n<\/div><\/div>\n\n\n\n<p>After a few seconds\/minutes, you should see the welcome screen <\/p>\n\n\n\n<div class=\"wp-block-image is-style-default\"><figure class=\"aligncenter size-full\"><img decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"407\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-4.png?resize=640%2C407&#038;ssl=1\" alt=\"\" class=\"wp-image-468\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-4.png?w=654&amp;ssl=1 654w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-4.png?resize=300%2C191&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-4.png?resize=24%2C15&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-4.png?resize=36%2C23&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-4.png?resize=48%2C31&amp;ssl=1 48w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" \/><\/figure><\/div>\n\n\n\n<p><\/p>\n\n\n\n<p><\/p>\n\n\n\n<p>SAMBA will ask you for additional approval so that it can modify its settings based on dhcp server. <\/p>\n\n\n\n<p>If you do not understand what th<strong>is is press YES<\/strong> if you curius about how it works, you can click h<a href=\"https:\/\/sourcedaddy.com\/networking\/configuring-wins-resolution.html\">er<\/a>e.<\/p>\n\n\n\n<p><\/p>\n\n\n\n<p><strong>b)<\/strong> If the installation was successful, then<strong> our next step will be to create a folder that we will share over the network.<\/strong> Because we want to use our server to store photos, movies, etc., this folder will have to be on an external HDD.<\/p>\n\n\n\n<p><strong>Tutorial on how to mount an external HDD on a Raspberry PI can be found <\/strong><a href=\"https:\/\/thetechcorner.org\/?p=461\">here.<\/a><\/p>\n\n\n\n<p>In my case, the HDD will be mounted to \/mnt\/HDD1<\/p>\n\n\n\n<p><\/p>\n\n\n\n<p><strong>c)<\/strong> When we have a folder that we are going to share, we can start with the SAMBA software configuration.<\/p>\n\n\n\n<p><strong>Using the editor of your choice, we will open a SAMBA config in which we will write down the necessary data.<\/strong> I&#8217;ll use nano for this.<\/p>\n\n\n\n<div class=\"is-layout-flow wp-block-group\"><div class=\"wp-block-group__inner-container\">\n<pre class=\"wp-block-preformatted\"><strong>sudo nano \/etc\/samba\/smb.conf<\/strong><\/pre>\n<\/div><\/div>\n\n\n\n<p><\/p>\n\n\n\n<p>Scroll completely to the bottom of this text file and write\/copy the following<\/p>\n\n\n\n<div class=\"is-layout-flow wp-block-group\"><div class=\"wp-block-group__inner-container\">\n<pre class=\"wp-block-preformatted\"><strong>[thetechcornershare]\npath = \/mnt\/HDD1\nwriteable=Yes\ncreate mask=0777\ndirectory mask=0777\npublic=no<\/strong><\/pre>\n<\/div><\/div>\n\n\n\n<p><\/p>\n\n\n\n<p><strong>thetechcornershare <\/strong>is just a name that you can change to your likening<\/p>\n\n\n\n<p><strong>path<\/strong> defines the folder we want to share (in your case, this path may vary)<\/p>\n\n\n\n<p><strong>writeable=<\/strong>yes means that we want to be able to write this folder and not only to read files<\/p>\n\n\n\n<p><strong>create mask <\/strong>and<strong> directory mas<\/strong>k determine what rights will user have. 0777 allows them to read, write, and execute files<\/p>\n\n\n\n<p><strong>public=<\/strong>no means that we want the user to enter a password to access the folder<\/p>\n\n\n\n<p><\/p>\n\n\n\n<p>Save the text file using <strong>shortcut ctrl + x and confirm the save using y and press ENTER.<\/strong><\/p>\n\n\n\n<p><\/p>\n\n\n\n<p><strong>d<\/strong>) As a next<strong> step, we need to create a ne<\/strong>w <strong>user to connect from different devices to our SAMBA NAS<\/strong>. This user must have the same name as one of the users on your PI. As most of us use the user &#8220;pi&#8221; so we will use this.<\/p>\n\n\n\n<div class=\"is-layout-flow wp-block-group\"><div class=\"wp-block-group__inner-container\">\n<pre class=\"wp-block-preformatted\"><strong>sudo smbpasswd -a pi<\/strong><\/pre>\n<\/div><\/div>\n\n\n\n<p>SAMBA will automatically ask us for a new password for this user.<\/p>\n\n\n\n<p>I&#8217;ll leave the password option to you, I&#8217;ll use the &#8220;test&#8221; but you should choose something much more complex.<\/p>\n\n\n\n<div class=\"wp-block-image is-style-default\"><figure class=\"aligncenter size-full\"><img decoding=\"async\" loading=\"lazy\" width=\"322\" height=\"69\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-6.png?resize=322%2C69&#038;ssl=1\" alt=\"\" class=\"wp-image-471\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-6.png?w=322&amp;ssl=1 322w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-6.png?resize=300%2C64&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-6.png?resize=24%2C5&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-6.png?resize=36%2C8&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-6.png?resize=48%2C10&amp;ssl=1 48w\" sizes=\"(max-width: 322px) 100vw, 322px\" data-recalc-dims=\"1\" \/><\/figure><\/div>\n\n\n\n<p><\/p>\n\n\n\n<p><\/p>\n\n\n\n<p><strong>e) We will then restart the SAMBA service<\/strong> to add the new account to our system. We will do so by using the command<\/p>\n\n\n\n<div class=\"is-layout-flow wp-block-group\"><div class=\"wp-block-group__inner-container\">\n<pre class=\"wp-block-preformatted\"><strong>sudo systemctl reload smbd<\/strong><\/pre>\n<\/div><\/div>\n\n\n\n<p><\/p>\n\n\n\n<p><strong>f)<\/strong> As a last step, you will need to find out the<strong> hostname<\/strong> or the <strong>IP address<\/strong> of your Raspberry PI. The easiest way is to use the command <\/p>\n\n\n\n<div class=\"is-layout-flow wp-block-group\"><div class=\"wp-block-group__inner-container\">\n<pre class=\"wp-block-preformatted\"><strong>hostname -I<\/strong><\/pre>\n<\/div><\/div>\n\n\n\n<p><\/p>\n\n\n\n<p>This completes the first part of creating our new NAT server. Next, I&#8217;ll explain how to connect to NAS from your WIndows PC.<\/p>\n\n\n\n<p><\/p>\n\n\n\n<h2><strong>3. How to connect to a NAS from Windows<\/strong><\/h2>\n\n\n\n<p>This part is quite simple. All you have to do <strong>is click on the &#8220;This P<\/strong>C&#8221; icon and click <strong>on the Computer box in the upper-<\/strong>left corne<strong>r and choose the option to map<\/strong> the network drive<\/p>\n\n\n\n<div class=\"wp-block-image is-style-default\"><figure class=\"aligncenter size-full\"><img decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"221\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-7.png?resize=640%2C221&#038;ssl=1\" alt=\"\" class=\"wp-image-473\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-7.png?w=686&amp;ssl=1 686w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-7.png?resize=300%2C104&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-7.png?resize=24%2C8&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-7.png?resize=36%2C12&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-7.png?resize=48%2C17&amp;ssl=1 48w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" \/><\/figure><\/div>\n\n\n\n<p><\/p>\n\n\n\n<p>As the next step, <strong>we choose the name of the disk and define the path to our NAS shared folder<\/strong>. <\/p>\n\n\n\n<p>As a disc name, you can select any letter except one that your PC already uses and we will write the following path in the Folder box<\/p>\n\n\n\n<div class=\"is-layout-flow wp-block-group\"><div class=\"wp-block-group__inner-container\">\n<pre class=\"wp-block-preformatted\">\\<strong>\\raspberrypi<strong>\\<\/strong>thetechcornershare<\/strong><\/pre>\n<\/div><\/div>\n\n\n\n<p><strong>Also, check both boxes for Reconnecting at singning in and connecting to your NAS with different credentials.<\/strong><\/p>\n\n\n\n<p>Keep in mind that if you chose a different name when configuring SAMBA, you must modify this value here.<\/p>\n\n\n\n<p><\/p>\n\n\n\n<div class=\"wp-block-image is-style-default\"><figure class=\"aligncenter size-full\"><img decoding=\"async\" loading=\"lazy\" width=\"618\" height=\"453\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-8.png?resize=618%2C453&#038;ssl=1\" alt=\"\" class=\"wp-image-474\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-8.png?w=618&amp;ssl=1 618w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-8.png?resize=300%2C220&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-8.png?resize=24%2C18&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-8.png?resize=36%2C26&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-8.png?resize=48%2C35&amp;ssl=1 48w\" sizes=\"(max-width: 618px) 100vw, 618px\" data-recalc-dims=\"1\" \/><\/figure><\/div>\n\n\n\n<p><\/p>\n\n\n\n<p><strong>Confirm by clicking the<\/strong> <strong>Finish button<\/strong> and Windows will then automatically ask you for login information for this NAS folder. <\/p>\n\n\n\n<p><strong>We will enter the data that we have predefined in the previous paragraph.<\/strong> The <strong>login name is &#8220;pi&#8221;<\/strong> and the <strong>password &#8220;test&#8221;.<\/strong><\/p>\n\n\n\n<div class=\"wp-block-image is-style-default\"><figure class=\"aligncenter size-full\"><img decoding=\"async\" loading=\"lazy\" width=\"456\" height=\"322\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-9.png?resize=456%2C322&#038;ssl=1\" alt=\"\" class=\"wp-image-475\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-9.png?w=456&amp;ssl=1 456w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-9.png?resize=300%2C212&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-9.png?resize=24%2C17&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-9.png?resize=36%2C25&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-9.png?resize=48%2C34&amp;ssl=1 48w\" sizes=\"(max-width: 456px) 100vw, 456px\" data-recalc-dims=\"1\" \/><\/figure><\/div>\n\n\n\n<p><\/p>\n\n\n\n<p><strong>Select Remember my credentials <\/strong>so you don&#8217;t have to enter this data every time you start your PC or Raspberry PI and press OK to confirm.<\/p>\n\n\n\n<p><\/p>\n\n\n\n<p><strong>You should now see your NAS folder on your computer.<\/strong><\/p>\n\n\n\n<div class=\"wp-block-image is-style-default\"><figure class=\"aligncenter size-full\"><img decoding=\"async\" loading=\"lazy\" width=\"640\" height=\"234\" src=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-10.png?resize=640%2C234&#038;ssl=1\" alt=\"\" class=\"wp-image-476\" srcset=\"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-10.png?w=700&amp;ssl=1 700w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-10.png?resize=300%2C110&amp;ssl=1 300w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-10.png?resize=24%2C9&amp;ssl=1 24w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-10.png?resize=36%2C13&amp;ssl=1 36w, https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/image-10.png?resize=48%2C18&amp;ssl=1 48w\" sizes=\"(max-width: 640px) 100vw, 640px\" data-recalc-dims=\"1\" \/><\/figure><\/div>\n\n\n\n<p><\/p>\n\n\n\n<p><\/p>\n\n\n\n<blockquote class=\"wp-block-quote\"><p><span class=\"has-inline-color has-orange-color\">If you found this article interesting or helpful you can support me and TheTechCorner by leaving a comment or \u201cBuying me a coffee\u201d. These articles takes some time to write and maintaining a site also take some money. You can do so by clicking a coffee button on the lower right corner or on the bottom of the page.<\/span><\/p><\/blockquote>\n","protected":false},"excerpt":{"rendered":"<p>NAS stands for Network Attached Storage. The NAS serves as a storage container for a [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":480,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"nf_dc_page":"","om_disable_all_campaigns":false,"_mi_skip_tracking":false},"categories":[96],"tags":[204,110,112,205],"jetpack_featured_media_url":"https:\/\/i0.wp.com\/thetechcorner.org\/wp-content\/uploads\/2021\/02\/nas-server-samba.png?fit=1280%2C720&ssl=1","_links":{"self":[{"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/posts\/491"}],"collection":[{"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=%2Fwp%2Fv2%2Fcomments&post=491"}],"version-history":[{"count":5,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/posts\/491\/revisions"}],"predecessor-version":[{"id":497,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/posts\/491\/revisions\/497"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=\/wp\/v2\/media\/480"}],"wp:attachment":[{"href":"https:\/\/thetechcorner.org\/index.php?rest_route=%2Fwp%2Fv2%2Fmedia&parent=491"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=%2Fwp%2Fv2%2Fcategories&post=491"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/thetechcorner.org\/index.php?rest_route=%2Fwp%2Fv2%2Ftags&post=491"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}